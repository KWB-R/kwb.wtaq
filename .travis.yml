##############################################################################
### Autogenerated with R package kwb.pkgbuild v0.1.1
### (installed from 'Github (kwb-r/kwb.pkgbuild@0ac3694)' source code on 2019-09-06)
### by calling the function kwb.pkgbuild::use_travis()
### (file created at: 2019-09-09 15:05:35)
##############################################################################


language: r
sudo: required
cache: packages
warnings_are_errors: false
r_packages:
- remotes
- covr
matrix:
  include:
  - r: devel
  - r: release
    after_success:
    - Rscript -e 'covr::codecov()'
    before_deploy:
    - Rscript -e 'remotes::install_cran(c("bookdown", "pkgdown", "withr"))'
    - Rscript -e 'remotes::install_github("kwb-r/kwb.wtaq")'
    deploy:
      provider: script
      before_script:
        - chmod +x ./_deploy-bookdown.sh
      script: >-
        Rscript -e 'withr::with_dir(new = "bookdown", rmarkdown::render_site()' &&
        ./_deploy-bookdown.sh &&
        Rscript -e 'pkgdown::deploy_site_github(verbose = TRUE)'
      skip_cleanup: 'true'
      on:
        branch: 
        - master
        - dev
  - r: oldrel
# blocklist
branches:
  except:
  - binder
